INFO:     Started server process [98358]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8002 (Press CTRL+C to quit)
Traceback (most recent call last):
  File "/Users/k24118093/Documents/medA2A_implementation/.venv/lib/python3.13/site-packages/a2a/server/apps/jsonrpc/jsonrpc_app.py", line 205, in _handle_requests
    a2a_request = A2ARequest.model_validate(body)
  File "/Users/k24118093/Documents/medA2A_implementation/.venv/lib/python3.13/site-packages/pydantic/main.py", line 705, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.ValidationError: 24 validation errors for A2ARequest
SendMessageRequest.params.message.parts.0.TextPart.text
  Field required [type=missing, input_value={'root': {'kind': 'text',... have hypertension?"}'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SendMessageRequest.params.message.parts.0.FilePart.file
  Field required [type=missing, input_value={'root': {'kind': 'text',... have hypertension?"}'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SendMessageRequest.params.message.parts.0.DataPart.data
  Field required [type=missing, input_value={'root': {'kind': 'text',... have hypertension?"}'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SendStreamingMessageRequest.method
  Input should be 'message/stream' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
SendStreamingMessageRequest.params.message.parts.0.TextPart.text
  Field required [type=missing, input_value={'root': {'kind': 'text',... have hypertension?"}'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SendStreamingMessageRequest.params.message.parts.0.FilePart.file
  Field required [type=missing, input_value={'root': {'kind': 'text',... have hypertension?"}'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SendStreamingMessageRequest.params.message.parts.0.DataPart.data
  Field required [type=missing, input_value={'root': {'kind': 'text',... have hypertension?"}'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
GetTaskRequest.method
  Input should be 'tasks/get' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
GetTaskRequest.params.id
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
CancelTaskRequest.method
  Input should be 'tasks/cancel' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
CancelTaskRequest.params.id
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SetTaskPushNotificationConfigRequest.method
  Input should be 'tasks/pushNotificationConfig/set' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
SetTaskPushNotificationConfigRequest.params.pushNotificationConfig
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
SetTaskPushNotificationConfigRequest.params.taskId
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
GetTaskPushNotificationConfigRequest.method
  Input should be 'tasks/pushNotificationConfig/get' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
GetTaskPushNotificationConfigRequest.params.TaskIdParams.id
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
GetTaskPushNotificationConfigRequest.params.GetTaskPushNotificationConfigParams.id
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
TaskResubscriptionRequest.method
  Input should be 'tasks/resubscribe' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
TaskResubscriptionRequest.params.id
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
ListTaskPushNotificationConfigRequest.method
  Input should be 'tasks/pushNotificationConfig/list' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
ListTaskPushNotificationConfigRequest.params.id
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
DeleteTaskPushNotificationConfigRequest.method
  Input should be 'tasks/pushNotificationConfig/delete' [type=literal_error, input_value='message/send', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
DeleteTaskPushNotificationConfigRequest.params.id
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
DeleteTaskPushNotificationConfigRequest.params.pushNotificationConfigId
  Field required [type=missing, input_value={'message': {'messageId':..."}'}}], 'role': 'user'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Request Error (ID: None): Code=-32600, Message='Request payload validation error', Data=[{'type': 'missing', 'loc': ['SendMessageRequest', 'params', 'message', 'parts', 0, 'TextPart', 'text'], 'msg': 'Field required', 'input': {'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ['SendMessageRequest', 'params', 'message', 'parts', 0, 'FilePart', 'file'], 'msg': 'Field required', 'input': {'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ['SendMessageRequest', 'params', 'message', 'parts', 0, 'DataPart', 'data'], 'msg': 'Field required', 'input': {'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['SendStreamingMessageRequest', 'method'], 'msg': "Input should be 'message/stream'", 'input': 'message/send', 'ctx': {'expected': "'message/stream'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['SendStreamingMessageRequest', 'params', 'message', 'parts', 0, 'TextPart', 'text'], 'msg': 'Field required', 'input': {'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ['SendStreamingMessageRequest', 'params', 'message', 'parts', 0, 'FilePart', 'file'], 'msg': 'Field required', 'input': {'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ['SendStreamingMessageRequest', 'params', 'message', 'parts', 0, 'DataPart', 'data'], 'msg': 'Field required', 'input': {'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['GetTaskRequest', 'method'], 'msg': "Input should be 'tasks/get'", 'input': 'message/send', 'ctx': {'expected': "'tasks/get'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['GetTaskRequest', 'params', 'id'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['CancelTaskRequest', 'method'], 'msg': "Input should be 'tasks/cancel'", 'input': 'message/send', 'ctx': {'expected': "'tasks/cancel'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['CancelTaskRequest', 'params', 'id'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['SetTaskPushNotificationConfigRequest', 'method'], 'msg': "Input should be 'tasks/pushNotificationConfig/set'", 'input': 'message/send', 'ctx': {'expected': "'tasks/pushNotificationConfig/set'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['SetTaskPushNotificationConfigRequest', 'params', 'pushNotificationConfig'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ['SetTaskPushNotificationConfigRequest', 'params', 'taskId'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['GetTaskPushNotificationConfigRequest', 'method'], 'msg': "Input should be 'tasks/pushNotificationConfig/get'", 'input': 'message/send', 'ctx': {'expected': "'tasks/pushNotificationConfig/get'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['GetTaskPushNotificationConfigRequest', 'params', 'TaskIdParams', 'id'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ['GetTaskPushNotificationConfigRequest', 'params', 'GetTaskPushNotificationConfigParams', 'id'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['TaskResubscriptionRequest', 'method'], 'msg': "Input should be 'tasks/resubscribe'", 'input': 'message/send', 'ctx': {'expected': "'tasks/resubscribe'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['TaskResubscriptionRequest', 'params', 'id'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['ListTaskPushNotificationConfigRequest', 'method'], 'msg': "Input should be 'tasks/pushNotificationConfig/list'", 'input': 'message/send', 'ctx': {'expected': "'tasks/pushNotificationConfig/list'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['ListTaskPushNotificationConfigRequest', 'params', 'id'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'literal_error', 'loc': ['DeleteTaskPushNotificationConfigRequest', 'method'], 'msg': "Input should be 'tasks/pushNotificationConfig/delete'", 'input': 'message/send', 'ctx': {'expected': "'tasks/pushNotificationConfig/delete'"}, 'url': 'https://errors.pydantic.dev/2.11/v/literal_error'}, {'type': 'missing', 'loc': ['DeleteTaskPushNotificationConfigRequest', 'params', 'id'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ['DeleteTaskPushNotificationConfigRequest', 'params', 'pushNotificationConfigId'], 'msg': 'Field required', 'input': {'message': {'messageId': 'test-123', 'parts': [{'root': {'kind': 'text', 'text': '{"question": "How many patients have hypertension?"}'}}], 'role': 'user'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}]
[OMOPDatabaseAgent] Initialization completed with MCP and Ollama support.
Routes registered in app: ['/rpc', '/.well-known/agent-card']
Agent card URL: http://localhost:8002/omop-db-agent-01
🚀 Starting OMOP Database Agent server at http://127.0.0.1:8002
INFO:     127.0.0.1:63454 - "POST /rpc HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [98358]
